(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{100:function(n,e){},116:function(n,e){},117:function(n,e){},137:function(n,e,t){},139:function(n,e,t){"use strict";t.r(e);var r=t(68),c=t(1),a=t.n(c),s=t(3),i=t(11),o=t(12),u=t(21),l=t(29),f=(t(137),t(9)),b=Object(l.d)("mainnet-beta");function p(){var n,e=function(){if("solana"in window){var n=window.solana;if(n.isPhantom)return n}window.open("https://phantom.app/","_blank")}(),t=Object(u.useState)([]),r=Object(o.a)(t,2),c=r[0],p=r[1],d=function(n){return p([].concat(Object(i.a)(c),[n]))},h=new l.a(b),j=Object(u.useState)(!1),x=Object(o.a)(j,2)[1];if(Object(u.useEffect)((function(){if(e)return e.on("connect",(function(){var n;x(!0),d("Connected to wallet "+(null===(n=e.publicKey)||void 0===n?void 0:n.toBase58()))})),e.on("disconnect",(function(){x(!1),d("Disconnected from wallet")})),e.connect({onlyIfTrusted:!0}).catch((function(){})),function(){e.disconnect()}}),[e]),!e)return Object(f.jsx)("h2",{children:"Could not find a provider"});var v=function(){var n=Object(s.a)(a.a.mark((function n(){var t,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.publicKey){n.next=2;break}return n.abrupt("return");case 2:return(t=(new l.c).add(l.b.transfer({fromPubkey:e.publicKey,toPubkey:e.publicKey,lamports:100}))).feePayer=e.publicKey,d("Getting recent blockhash"),r=t,n.next=8,h.getRecentBlockhash();case 8:return r.recentBlockhash=n.sent.blockhash,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),O=function(){var n=Object(s.a)(a.a.mark((function n(){var t,r,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v();case 2:if(!(t=n.sent)){n.next=22;break}return n.prev=4,n.next=7,e.signTransaction(t);case 7:return r=n.sent,d("Got signature, submitting transaction"),n.next=11,h.sendRawTransaction(r.serialize());case 11:return c=n.sent,d("Submitted transaction "+c+", awaiting confirmation"),n.next=15,h.confirmTransaction(c);case 15:d("Transaction "+c+" confirmed"),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(4),console.warn(n.t0),d("Error: "+JSON.stringify(n.t0));case 22:case"end":return n.stop()}}),n,null,[[4,18]])})));return function(){return n.apply(this,arguments)}}(),g=function(){var n=Object(s.a)(a.a.mark((function n(){var t,r,c,s,i,u,l=arguments;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=l.length>0&&void 0!==l[0]&&l[0],n.next=3,Promise.all([v(),v()]);case 3:if(r=n.sent,c=Object(o.a)(r,2),s=c[0],i=c[1],!s||!i){n.next=25;break}if(n.prev=8,!t){n.next=15;break}return n.next=12,e.signAllTransactions([s]);case 12:u=n.sent,n.next=18;break;case 15:return n.next=17,e.signAllTransactions([s,i]);case 17:u=n.sent;case 18:n.next=24;break;case 20:n.prev=20,n.t0=n.catch(8),console.warn(n.t0),d("Error: "+JSON.stringify(n.t0));case 24:d("Signature "+u);case 25:case"end":return n.stop()}}),n,null,[[8,20]])})));return function(){return n.apply(this,arguments)}}(),w=function(){var n=Object(s.a)(a.a.mark((function n(t){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(new TextEncoder).encode(t),n.prev=1,n.next=4,e.signMessage(r);case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.warn(n.t0),d("Error: "+JSON.stringify(n.t0));case 10:d("Message signed");case 11:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{children:"Phantom Sandbox"}),Object(f.jsxs)("main",{children:[e&&e.publicKey?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:["Wallet address: ",null===(n=e.publicKey)||void 0===n?void 0:n.toBase58(),"."]}),Object(f.jsxs)("div",{children:["isConnected: ",e.isConnected?"true":"false","."]}),Object(f.jsx)("button",{onClick:O,children:"Send Transaction"}),Object(f.jsxs)("button",{onClick:function(){return g(!1)},children:["Sign All Transactions (multiple)"," "]}),Object(f.jsxs)("button",{onClick:function(){return g(!0)},children:["Sign All Transactions (single)"," "]}),Object(f.jsx)("button",{onClick:function(){return w("To avoid digital dognappers, sign below to authenticate with CryptoCorgis.")},children:"Sign Message"}),Object(f.jsx)("button",{onClick:Object(s.a)(a.a.mark((function n(){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.disconnect();case 3:t=n.sent,d(JSON.stringify(t)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.warn(n.t0),d("Error: "+JSON.stringify(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,7]])}))),children:"Disconnect"})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("button",{onClick:Object(s.a)(a.a.mark((function n(){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.connect();case 3:t=n.sent,d(JSON.stringify(t)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.warn(n.t0),d("Error: "+JSON.stringify(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,7]])}))),children:"Connect to Phantom"})}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"logs",children:c.map((function(n,e){return Object(f.jsx)("div",{className:"log",children:n},e)}))})]})]})}var d=document.getElementById("root");Object(r.render)(Object(f.jsx)(p,{}),d)},75:function(n,e){},79:function(n,e){}},[[139,1,2]]]);
//# sourceMappingURL=main.49ed9f35.chunk.js.map